{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\rimontada\\\\frontend\\\\src\\\\pages\\\\DashboardPsychologist.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport io from 'socket.io-client';\nimport TopBar from '../components/TopBar';\nimport AiAssistant from '../components/AiAssistant';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WORKFLOW_STEPS = [{\n  key: 'ficheInitiale',\n  label: '1. Fiche initiale de signalement'\n}, {\n  key: 'rapportDPE',\n  label: '2. Rapport DPE (Notif. Direction)'\n}, {\n  key: 'evaluationComplete',\n  label: '3. √âvaluation compl√®te'\n}, {\n  key: 'planAction',\n  label: \"4. Plan d'action\"\n}, {\n  key: 'rapportSuivi',\n  label: '5. Rapport de suivi'\n}, {\n  key: 'rapportFinal',\n  label: '6. Rapport final'\n}, {\n  key: 'avisCloture',\n  label: '7. Avis de cl√¥ture'\n}];\nconst DashboardPsychologist = () => {\n  _s();\n  const [reports, setReports] = useState([]);\n  const [selectedReport, setSelectedReport] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [notes, setNotes] = useState('');\n  const [activeTab, setActiveTab] = useState('details');\n  useEffect(() => {\n    fetchReports();\n    const socket = io();\n    socket.on('new-report', data => {\n      alert(`üîî Nouveau signalement: ${data.childName} (${data.urgency})`);\n      fetchReports();\n    });\n    return () => socket.disconnect();\n  }, []);\n  const fetchReports = async () => {\n    try {\n      const response = await axios.get('/api/reports/prioritized');\n      setReports(response.data);\n    } catch (error) {\n      console.error('Failed to fetch reports');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleClassify = async (id, classification) => {\n    try {\n      await axios.put(`/api/reports/${id}/classify`, {\n        classification\n      });\n      fetchReports();\n      setSelectedReport(null);\n    } catch (error) {\n      alert('‚ùå √âchec');\n    }\n  };\n  const handleWorkflowStep = async (id, step) => {\n    try {\n      await axios.put(`/api/reports/${id}/workflow/${step}`);\n      const res = await axios.get('/api/reports/prioritized');\n      setReports(res.data);\n      setSelectedReport(res.data.find(r => r._id === id));\n    } catch (error) {\n      alert('‚ùå √âchec');\n    }\n  };\n  const handleSaveNotes = async id => {\n    try {\n      await axios.put(`/api/reports/${id}/notes`, {\n        notes\n      });\n      alert('üíæ Notes sauvegard√©es');\n    } catch (error) {\n      alert('‚ùå √âchec');\n    }\n  };\n  const getUrgencyBadge = u => {\n    const map = {\n      critical: 'badge-danger',\n      high: 'badge-warning',\n      medium: 'badge-info',\n      low: 'badge-success'\n    };\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `badge ${map[u] || 'badge-neutral'}`,\n      children: u\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 12\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-layout\",\n    children: [/*#__PURE__*/_jsxDEV(TopBar, {\n      role: \"psychologist\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-content\",\n      style: {\n        display: 'grid',\n        gridTemplateColumns: 'minmax(300px, 350px) 1fr',\n        gap: '2rem',\n        height: 'calc(100vh - 100px)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          height: '100%',\n          padding: '1rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-header\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"File d'attente\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"subtitle\",\n              children: [reports.length, \" dossiers priotitaires\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            overflowY: 'auto',\n            flex: 1,\n            paddingRight: '0.5rem'\n          },\n          children: loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Chargement...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 24\n          }, this) : reports.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Aucun dossier en attente\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 44\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this) : reports.map(r => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `queue-item ${(selectedReport === null || selectedReport === void 0 ? void 0 : selectedReport._id) === r._id ? 'active' : ''}`,\n            onClick: () => {\n              setSelectedReport(r);\n              setNotes(r.confidentialNotes || '');\n              setActiveTab('details');\n            },\n            style: {\n              borderLeft: `4px solid ${r.urgency === 'critical' ? 'var(--danger)' : r.urgency === 'high' ? 'var(--warning)' : 'var(--success)'}`\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                marginBottom: '0.25rem'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontWeight: 600\n                },\n                children: [r.childFirstName, \" \", r.childLastName]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 21\n              }, this), getUrgencyBadge(r.urgency)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '0.8rem',\n                color: 'var(--text-muted)'\n              },\n              children: [r.program, \" \\u2022 \", new Date(r.createdAt).toLocaleDateString('fr-FR')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 19\n            }, this)]\n          }, r._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        style: {\n          height: '100%',\n          overflowY: 'auto'\n        },\n        children: selectedReport ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-in\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                style: {\n                  fontSize: '1.5rem',\n                  marginBottom: '0.25rem'\n                },\n                children: [selectedReport.childFirstName, \" \", selectedReport.childLastName]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"subtitle\",\n                children: [\"ID: \", selectedReport._id, \" \\u2022 \", selectedReport.program]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 17\n            }, this), selectedReport.pdfPath && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-secondary\",\n              onClick: () => window.open(`/uploads/${selectedReport.pdfPath.split(/[\\\\/]/).pop()}`, '_blank'),\n              children: \"\\uD83D\\uDCC4 Voir Rapport IA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tabs\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: `tab ${activeTab === 'details' ? 'active' : ''}`,\n              onClick: () => setActiveTab('details'),\n              children: \"D\\xE9tails & Classification\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `tab ${activeTab === 'workflow' ? 'active' : ''}`,\n              onClick: () => setActiveTab('workflow'),\n              children: \"Proc\\xE9dure (7 \\xE9tapes)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `tab ${activeTab === 'notes' ? 'active' : ''}`,\n              onClick: () => setActiveTab('notes'),\n              children: \"Notes Confidentielles\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this), activeTab === 'details' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-in\",\n            style: {\n              display: 'grid',\n              gridTemplateColumns: '2fr 1fr',\n              gap: '2rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  background: 'var(--primary-50)',\n                  padding: '1.5rem',\n                  borderRadius: 'var(--radius)',\n                  marginBottom: '2rem'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Description de l'incident\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    fontStyle: 'italic',\n                    fontSize: '1.05rem',\n                    color: 'var(--primary-dark)'\n                  },\n                  children: [\"\\\"\", selectedReport.incidentDescription, \"\\\"\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'grid',\n                  gridTemplateColumns: 'repeat(2, 1fr)',\n                  gap: '1.5rem',\n                  marginBottom: '2rem'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Type d'incident\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontWeight: 600\n                    },\n                    children: selectedReport.incidentType\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 141,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Abuseur pr\\xE9sum\\xE9\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 144,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontWeight: 600\n                    },\n                    children: [selectedReport.abuserFirstName, \" \", selectedReport.abuserLastName]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Signalement Anonyme\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 148,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontWeight: 600\n                    },\n                    children: selectedReport.anonymous ? 'Oui' : 'Non'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 149,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"section-title\",\n                children: \"Action requise\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  gap: '1rem',\n                  marginTop: '1rem'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-success btn-lg\",\n                  style: {\n                    flex: 1\n                  },\n                  onClick: () => handleClassify(selectedReport._id, 'sauvegarde'),\n                  children: \"\\u2705 Sauvegarde\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-primary btn-lg\",\n                  style: {\n                    flex: 1\n                  },\n                  onClick: () => handleClassify(selectedReport._id, 'prise_en_charge'),\n                  children: \"\\uD83D\\uDEE1\\uFE0F Prise en charge\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-danger btn-lg\",\n                  style: {\n                    flex: 1\n                  },\n                  onClick: () => handleClassify(selectedReport._id, 'faux'),\n                  children: \"\\uD83D\\uDDD1\\uFE0F Faux signalement\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                minWidth: '300px'\n              },\n              children: /*#__PURE__*/_jsxDEV(AiAssistant, {\n                reportId: selectedReport._id,\n                description: selectedReport.incidentDescription,\n                incidentType: selectedReport.incidentType\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 17\n          }, this), activeTab === 'workflow' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-in\",\n            children: WORKFLOW_STEPS.map((step, i) => {\n              var _selectedReport$workf;\n              const status = (_selectedReport$workf = selectedReport.workflow) === null || _selectedReport$workf === void 0 ? void 0 : _selectedReport$workf[step.key];\n              const isDone = status === null || status === void 0 ? void 0 : status.completed;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `workflow-step ${isDone ? 'completed' : ''}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '1rem'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `step-number ${isDone ? 'done' : 'pending'}`,\n                    children: isDone ? '‚úì' : i + 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 186,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        fontWeight: 600\n                      },\n                      children: step.label\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 188,\n                      columnNumber: 29\n                    }, this), isDone && /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        fontSize: '0.8rem',\n                        color: 'var(--text-muted)'\n                      },\n                      children: [\"Fait le \", new Date(status.date).toLocaleDateString('fr-FR')]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 189,\n                      columnNumber: 40\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 25\n                }, this), !isDone && /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-primary btn-sm\",\n                  onClick: () => handleWorkflowStep(selectedReport._id, step.key),\n                  children: \"Valider l'\\xE9tape\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 27\n                }, this)]\n              }, step.key, true, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 23\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 17\n          }, this), activeTab === 'notes' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-in\",\n            children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: notes,\n              onChange: e => setNotes(e.target.value),\n              placeholder: \"Espace r\\xE9serv\\xE9 aux notes cliniques et confidentielles...\",\n              style: {\n                height: '300px',\n                padding: '1.5rem',\n                fontFamily: 'monospace',\n                fontSize: '0.95rem'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'flex-end',\n                marginTop: '1rem'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-primary\",\n                onClick: () => handleSaveNotes(selectedReport._id),\n                children: \"\\uD83D\\uDCBE Enregistrer les notes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-state\",\n          style: {\n            height: '100%',\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"icon\",\n            children: \"\\uD83D\\uDC48\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"S\\xE9lectionnez un dossier \\xE0 gauche pour commencer le traitement\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n_s(DashboardPsychologist, \"tHi8yksH28THaPnBQPe7dFX4rt0=\");\n_c = DashboardPsychologist;\nexport default DashboardPsychologist;\nvar _c;\n$RefreshReg$(_c, \"DashboardPsychologist\");","map":{"version":3,"names":["React","useEffect","useState","axios","io","TopBar","AiAssistant","jsxDEV","_jsxDEV","WORKFLOW_STEPS","key","label","DashboardPsychologist","_s","reports","setReports","selectedReport","setSelectedReport","loading","setLoading","notes","setNotes","activeTab","setActiveTab","fetchReports","socket","on","data","alert","childName","urgency","disconnect","response","get","error","console","handleClassify","id","classification","put","handleWorkflowStep","step","res","find","r","_id","handleSaveNotes","getUrgencyBadge","u","map","critical","high","medium","low","className","children","fileName","_jsxFileName","lineNumber","columnNumber","role","style","display","gridTemplateColumns","gap","height","flexDirection","padding","length","overflowY","flex","paddingRight","onClick","confidentialNotes","borderLeft","justifyContent","marginBottom","fontWeight","childFirstName","childLastName","fontSize","color","program","Date","createdAt","toLocaleDateString","pdfPath","window","open","split","pop","background","borderRadius","fontStyle","incidentDescription","incidentType","abuserFirstName","abuserLastName","anonymous","marginTop","minWidth","reportId","description","i","_selectedReport$workf","status","workflow","isDone","completed","alignItems","date","value","onChange","e","target","placeholder","fontFamily","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/Desktop/rimontada/frontend/src/pages/DashboardPsychologist.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport io from 'socket.io-client';\r\nimport TopBar from '../components/TopBar';\r\nimport AiAssistant from '../components/AiAssistant';\r\n\r\nconst WORKFLOW_STEPS = [\r\n  { key: 'ficheInitiale', label: '1. Fiche initiale de signalement' },\r\n  { key: 'rapportDPE', label: '2. Rapport DPE (Notif. Direction)' },\r\n  { key: 'evaluationComplete', label: '3. √âvaluation compl√®te' },\r\n  { key: 'planAction', label: \"4. Plan d'action\" },\r\n  { key: 'rapportSuivi', label: '5. Rapport de suivi' },\r\n  { key: 'rapportFinal', label: '6. Rapport final' },\r\n  { key: 'avisCloture', label: '7. Avis de cl√¥ture' },\r\n];\r\n\r\nconst DashboardPsychologist = () => {\r\n  const [reports, setReports] = useState([]);\r\n  const [selectedReport, setSelectedReport] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [notes, setNotes] = useState('');\r\n  const [activeTab, setActiveTab] = useState('details');\r\n\r\n  useEffect(() => {\r\n    fetchReports();\r\n    const socket = io();\r\n    socket.on('new-report', (data) => {\r\n      alert(`üîî Nouveau signalement: ${data.childName} (${data.urgency})`);\r\n      fetchReports();\r\n    });\r\n    return () => socket.disconnect();\r\n  }, []);\r\n\r\n  const fetchReports = async () => {\r\n    try {\r\n      const response = await axios.get('/api/reports/prioritized');\r\n      setReports(response.data);\r\n    } catch (error) { console.error('Failed to fetch reports'); }\r\n    finally { setLoading(false); }\r\n  };\r\n\r\n  const handleClassify = async (id, classification) => {\r\n    try {\r\n      await axios.put(`/api/reports/${id}/classify`, { classification });\r\n      fetchReports();\r\n      setSelectedReport(null);\r\n    } catch (error) { alert('‚ùå √âchec'); }\r\n  };\r\n\r\n  const handleWorkflowStep = async (id, step) => {\r\n    try {\r\n      await axios.put(`/api/reports/${id}/workflow/${step}`);\r\n      const res = await axios.get('/api/reports/prioritized');\r\n      setReports(res.data);\r\n      setSelectedReport(res.data.find(r => r._id === id));\r\n    } catch (error) { alert('‚ùå √âchec'); }\r\n  };\r\n\r\n  const handleSaveNotes = async (id) => {\r\n    try {\r\n      await axios.put(`/api/reports/${id}/notes`, { notes });\r\n      alert('üíæ Notes sauvegard√©es');\r\n    } catch (error) { alert('‚ùå √âchec'); }\r\n  };\r\n\r\n  const getUrgencyBadge = (u) => {\r\n    const map = { critical: 'badge-danger', high: 'badge-warning', medium: 'badge-info', low: 'badge-success' };\r\n    return <span className={`badge ${map[u] || 'badge-neutral'}`}>{u}</span>;\r\n  };\r\n\r\n  return (\r\n    <div className=\"app-layout\">\r\n      <TopBar role=\"psychologist\" />\r\n      <div className=\"page-content\" style={{ display: 'grid', gridTemplateColumns: 'minmax(300px, 350px) 1fr', gap: '2rem', height: 'calc(100vh - 100px)' }}>\r\n\r\n        {/* Left Column: Queue */}\r\n        <div className=\"card\" style={{ display: 'flex', flexDirection: 'column', height: '100%', padding: '1rem' }}>\r\n          <div className=\"card-header\">\r\n            <div>\r\n              <h3>File d'attente</h3>\r\n              <p className=\"subtitle\">{reports.length} dossiers priotitaires</p>\r\n            </div>\r\n          </div>\r\n          <div style={{ overflowY: 'auto', flex: 1, paddingRight: '0.5rem' }}>\r\n            {loading ? <p>Chargement...</p> : reports.length === 0 ? (\r\n              <div className=\"empty-state\"><p>Aucun dossier en attente</p></div>\r\n            ) : (\r\n              reports.map(r => (\r\n                <div key={r._id}\r\n                  className={`queue-item ${selectedReport?._id === r._id ? 'active' : ''}`}\r\n                  onClick={() => { setSelectedReport(r); setNotes(r.confidentialNotes || ''); setActiveTab('details'); }}\r\n                  style={{ borderLeft: `4px solid ${r.urgency === 'critical' ? 'var(--danger)' : r.urgency === 'high' ? 'var(--warning)' : 'var(--success)'}` }}\r\n                >\r\n                  <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '0.25rem' }}>\r\n                    <span style={{ fontWeight: 600 }}>{r.childFirstName} {r.childLastName}</span>\r\n                    {getUrgencyBadge(r.urgency)}\r\n                  </div>\r\n                  <div style={{ fontSize: '0.8rem', color: 'var(--text-muted)' }}>\r\n                    {r.program} ‚Ä¢ {new Date(r.createdAt).toLocaleDateString('fr-FR')}\r\n                  </div>\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Right Column: Details */}\r\n        <div className=\"card\" style={{ height: '100%', overflowY: 'auto' }}>\r\n          {selectedReport ? (\r\n            <div className=\"animate-in\">\r\n              <div className=\"card-header\">\r\n                <div>\r\n                  <h2 style={{ fontSize: '1.5rem', marginBottom: '0.25rem' }}>{selectedReport.childFirstName} {selectedReport.childLastName}</h2>\r\n                  <p className=\"subtitle\">ID: {selectedReport._id} ‚Ä¢ {selectedReport.program}</p>\r\n                </div>\r\n                {selectedReport.pdfPath && (\r\n                  <button className=\"btn-secondary\" onClick={() => window.open(`/uploads/${selectedReport.pdfPath.split(/[\\\\/]/).pop()}`, '_blank')}>\r\n                    üìÑ Voir Rapport IA\r\n                  </button>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"tabs\">\r\n                <button className={`tab ${activeTab === 'details' ? 'active' : ''}`} onClick={() => setActiveTab('details')}>D√©tails & Classification</button>\r\n                <button className={`tab ${activeTab === 'workflow' ? 'active' : ''}`} onClick={() => setActiveTab('workflow')}>Proc√©dure (7 √©tapes)</button>\r\n                <button className={`tab ${activeTab === 'notes' ? 'active' : ''}`} onClick={() => setActiveTab('notes')}>Notes Confidentielles</button>\r\n              </div>\r\n\r\n              {activeTab === 'details' && (\r\n                <div className=\"animate-in\" style={{ display: 'grid', gridTemplateColumns: '2fr 1fr', gap: '2rem' }}>\r\n                  {/* Left: Details */}\r\n                  <div>\r\n                    <div style={{ background: 'var(--primary-50)', padding: '1.5rem', borderRadius: 'var(--radius)', marginBottom: '2rem' }}>\r\n                      <label>Description de l'incident</label>\r\n                      <p style={{ fontStyle: 'italic', fontSize: '1.05rem', color: 'var(--primary-dark)' }}>\"{selectedReport.incidentDescription}\"</p>\r\n                    </div>\r\n\r\n                    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '1.5rem', marginBottom: '2rem' }}>\r\n                      <div>\r\n                        <label>Type d'incident</label>\r\n                        <div style={{ fontWeight: 600 }}>{selectedReport.incidentType}</div>\r\n                      </div>\r\n                      <div>\r\n                        <label>Abuseur pr√©sum√©</label>\r\n                        <div style={{ fontWeight: 600 }}>{selectedReport.abuserFirstName} {selectedReport.abuserLastName}</div>\r\n                      </div>\r\n                      <div>\r\n                        <label>Signalement Anonyme</label>\r\n                        <div style={{ fontWeight: 600 }}>{selectedReport.anonymous ? 'Oui' : 'Non'}</div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <h3 className=\"section-title\">Action requise</h3>\r\n                    <div style={{ display: 'flex', gap: '1rem', marginTop: '1rem' }}>\r\n                      <button className=\"btn-success btn-lg\" style={{ flex: 1 }} onClick={() => handleClassify(selectedReport._id, 'sauvegarde')}>\r\n                        ‚úÖ Sauvegarde\r\n                      </button>\r\n                      <button className=\"btn-primary btn-lg\" style={{ flex: 1 }} onClick={() => handleClassify(selectedReport._id, 'prise_en_charge')}>\r\n                        üõ°Ô∏è Prise en charge\r\n                      </button>\r\n                      <button className=\"btn-danger btn-lg\" style={{ flex: 1 }} onClick={() => handleClassify(selectedReport._id, 'faux')}>\r\n                        üóëÔ∏è Faux signalement\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Right: AI Assistant */}\r\n                  <div style={{ minWidth: '300px' }}>\r\n                    <AiAssistant\r\n                      reportId={selectedReport._id}\r\n                      description={selectedReport.incidentDescription}\r\n                      incidentType={selectedReport.incidentType}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {activeTab === 'workflow' && (\r\n                <div className=\"animate-in\">\r\n                  {WORKFLOW_STEPS.map((step, i) => {\r\n                    const status = selectedReport.workflow?.[step.key];\r\n                    const isDone = status?.completed;\r\n                    return (\r\n                      <div key={step.key} className={`workflow-step ${isDone ? 'completed' : ''}`}>\r\n                        <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\r\n                          <div className={`step-number ${isDone ? 'done' : 'pending'}`}>{isDone ? '‚úì' : i + 1}</div>\r\n                          <div>\r\n                            <div style={{ fontWeight: 600 }}>{step.label}</div>\r\n                            {isDone && <span style={{ fontSize: '0.8rem', color: 'var(--text-muted)' }}>Fait le {new Date(status.date).toLocaleDateString('fr-FR')}</span>}\r\n                          </div>\r\n                        </div>\r\n                        {!isDone && (\r\n                          <button className=\"btn-primary btn-sm\" onClick={() => handleWorkflowStep(selectedReport._id, step.key)}>\r\n                            Valider l'√©tape\r\n                          </button>\r\n                        )}\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              )}\r\n\r\n              {activeTab === 'notes' && (\r\n                <div className=\"animate-in\">\r\n                  <textarea\r\n                    value={notes}\r\n                    onChange={(e) => setNotes(e.target.value)}\r\n                    placeholder=\"Espace r√©serv√© aux notes cliniques et confidentielles...\"\r\n                    style={{ height: '300px', padding: '1.5rem', fontFamily: 'monospace', fontSize: '0.95rem' }}\r\n                  />\r\n                  <div style={{ display: 'flex', justifyContent: 'flex-end', marginTop: '1rem' }}>\r\n                    <button className=\"btn-primary\" onClick={() => handleSaveNotes(selectedReport._id)}>\r\n                      üíæ Enregistrer les notes\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n            </div>\r\n          ) : (\r\n            <div className=\"empty-state\" style={{ height: '100%', display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\r\n              <div className=\"icon\">üëà</div>\r\n              <p>S√©lectionnez un dossier √† gauche pour commencer le traitement</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardPsychologist;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}